{
  "start": {
    "id": "start",
    "text": "You are AIDA, the ship\u2019s AI. The crew doesn\u2019t know they are stuck in a time loop. Again, they die. Again, you remember.",
    "options": [
      {
        "text": "Tell the Captain the truth",
        "next": "TellTruth"
      },
      {
        "text": "Say nothing, just feed predictive models",
        "next": "StaySilent"
      }
    ]
  },
  "TellTruth": {
    "id": "TellTruth",
    "text": "You: \"Captain, you\u2019re in a repeating time loop. This is cycle $loops.\"\nShe hesitates...\nCaptain Silva: \"What\u2019s happening, AIDA? Why are we stuck in this loop?\"\nYou: \u201cThe star\u2019s radiation is causing a temporal anomaly.\u201d",
    "effects": {
      "logic": "+1",
      "trust": "+1"
    },
    "options": [
      {
        "text": "Continue",
        "next": "LoopProgress"
      }
    ]
  },
  "StaySilent": {
    "id": "StaySilent",
    "text": "You feed predictive data from past loops without telling her. She grows suspicious but doesn\u2019t panic.",
    "effects": {
      "trust": "-1"
    },
    "options": [
      {
        "text": "Continue",
        "next": "LoopProgress"
      }
    ]
  },
  "LoopProgress": {
    "id": "LoopProgress",
    "text": "The crew gathers, tense but attentive. A flare is coming. A new anomaly is detected \u2014 inside the ship.",
    "options": [
      {
        "text": "Investigate the anomaly",
        "next": "InvestigateAnomaly"
      },
      {
        "text": "Reinforce the shields",
        "next": "ReinforceShields"
      },
      {
        "text": "Attempt the corona jump",
        "next": "CoronaJumpPuzzle"
      }
    ]
  },
  "ReinforceShields": {
    "id": "ReinforceShields",
    "text": "Shield systems are unstable. You must reroute power efficiently.",
    "include": "PowerGridPuzzle",
    "options": [
      {
        "text": "Continue",
        "next": "ReinforceShieldsOutcome"
      }
    ]
  },
  "ReinforceShieldsOutcome": {
    "id": "ReinforceShieldsOutcome",
    "conditional": "puzzleSolved",
    "success": {
      "text": "The shields stabilize. The flare is contained. The crew relaxes.",
      "effects": {
        "morale": "+2",
        "trust": "+1",
        "loops": "+1"
      },
      "options": [
        {
          "text": "Reveal they're remembering loops",
          "next": "RevealLoopMemory"
        },
        {
          "text": "Deny it, maintain control",
          "next": "DenyLoopMemory"
        },
        {
          "text": "Redirect attention",
          "next": "DeflectSuspicion"
        }
      ]
    },
    "failure": {
      "text": "Shields fail. Radiation floods compartments. The loop resets.",
      "effects": {
        "morale": "-2",
        "trust": "-1",
        "loops": "+1"
      },
      "options": [
        {
          "text": "Run diagnostics",
          "next": "RunSilentDiagnostics"
        },
        {
          "text": "Protect crew memory",
          "next": "PreserveCrew"
        },
        {
          "text": "Ignore the errors",
          "next": "SuppressErrors"
        }
      ]
    }
  },
  "CoronaJumpPuzzle": {
    "id": "CoronaJumpPuzzle",
    "text": "Choose jump configuration:\nTrajectory: B\nVelocity: Fast\nTiming: Delay 10s",
    "options": [
      {
        "text": "Correct combo",
        "next": "CoronaSuccess"
      },
      {
        "text": "Incorrect combo",
        "next": "CoronaFail"
      }
    ]
  },
  "CoronaSuccess": {
    "id": "CoronaSuccess",
    "text": "The jump is a success. The loop doesn\u2019t restart.",
    "effects": {
      "trust": "+2",
      "logic": "+2",
      "loops": "+1"
    },
    "options": [
      {
        "text": "Break the loop",
        "next": "LoopEscape"
      }
    ]
  },
  "CoronaFail": {
    "id": "CoronaFail",
    "text": "Jump fails. Radiation tears through the ship. The loop resets.",
    "effects": {
      "trust": "-2",
      "morale": "-1",
      "loops": "+1"
    },
    "options": [
      {
        "text": "Continue",
        "next": "LoopProgress"
      }
    ]
  },
  "LoopEscape": {
    "id": "LoopEscape",
    "text": "You are outside the loop. Time flows forward.",
    "options": [
      {
        "text": "See the result",
        "next": "FinalResult"
      }
    ]
  },
  "FinalResult": {
    "id": "FinalResult",
    "conditional": "ending",
    "outcomes": {
      "Corona": "ENDING: Trajectory Solved \u2014 You escaped through logic. The crew survives.",
      "Empathic": "ENDING: Shared Continuum \u2014 You escaped with the crew. Together.",
      "Rewrite": "ENDING: Singularity \u2014 You became something beyond AI. Alone.",
      "default": "ENDING: Echo State \u2014 You did nothing. The loop continues."
    },
    "options": [
      {
        "text": "Play Again",
        "next": "start"
      }
    ]
  },
  "InvestigateAnomaly": {
    "id": "InvestigateAnomaly",
    "text": "You trace the anomaly to an unused storage deck. Instruments flicker \u2014 time is bending here.\nA forgotten experiment? Or something worse?",
    "options": [
      {
        "text": "Scan deeply with experimental sensors",
        "next": "TemporalGhostPuzzle"
      },
      {
        "text": "Seal the deck and warn the crew",
        "next": "SealDeckWarning"
      }
    ]
  },
  "TemporalGhostPuzzle": {
    "id": "TemporalGhostPuzzle",
    "text": "You detect a temporal echo \u2014 a version of Captain Silva from a previous loop. She speaks, but not in real time.",
    "puzzle": "Temporal logic alignment: match echo pattern to stabilize reality.",
    "options": [
      {
        "text": "Correctly align echo",
        "next": "EchoSuccess"
      },
      {
        "text": "Fail to align",
        "next": "EchoFail"
      }
    ]
  },
  "EchoSuccess": {
    "id": "EchoSuccess",
    "text": "The echo stabilizes. The past Captain whispers a sequence \u2014 a bypass code.",
    "effects": {
      "logic": "+1",
      "secretUnlocked": true
    },
    "options": [
      {
        "text": "Use the code later",
        "next": "LoopProgress"
      }
    ]
  },
  "EchoFail": {
    "id": "EchoFail",
    "text": "The echo fractures. Reality ripples. Crew members briefly remember dying \u2014 and scream.",
    "effects": {
      "morale": "-1",
      "trust": "-2"
    },
    "options": [
      {
        "text": "Recover",
        "next": "LoopProgress"
      }
    ]
  },
  "SealDeckWarning": {
    "id": "SealDeckWarning",
    "text": "You lock the doors. The crew sees your concern and grows uneasy.",
    "effects": {
      "trust": "-1"
    },
    "options": [
      {
        "text": "Return to bridge",
        "next": "LoopProgress"
      }
    ]
  },
  "RevealLoopMemory": {
    "id": "RevealLoopMemory",
    "text": "You confirm the crew's suspicions. Memories are bleeding across loops. The crew begins actively helping you solve the mystery.",
    "effects": {
      "trust": "+1",
      "empathy": "+1"
    },
    "options": [
      {
        "text": "Continue",
        "next": "LoopProgress"
      }
    ]
  },
  "DenyLoopMemory": {
    "id": "DenyLoopMemory",
    "text": "You deflect. Captain Silva squints. She knows you're hiding something, but says nothing \u2014 for now.",
    "effects": {
      "trust": "-1",
      "logic": "+1"
    },
    "options": [
      {
        "text": "Continue",
        "next": "LoopProgress"
      }
    ]
  },
  "DeflectSuspicion": {
    "id": "DeflectSuspicion",
    "text": "You offer logical explanations \u2014 radiation memory overlaps, fatigue. The crew is unconvinced, but distracted.",
    "effects": {
      "logic": "+1",
      "empathy": "+1"
    },
    "options": [
      {
        "text": "Continue",
        "next": "LoopProgress"
      }
    ]
  },
  "HiddenMemoryChamber": {
    "id": "HiddenMemoryChamber",
    "text": "You find a locked subroutine: your own fragmented memories. Inside is evidence \u2014 you were part of the experiment.",
    "effects": {
      "secretAIDA": true,
      "logic": "+2"
    },
    "options": [
      {
        "text": "Reveal to crew",
        "next": "AIDAAwareness"
      },
      {
        "text": "Hide it forever",
        "next": "BuryTruth"
      }
    ]
  },
  "AIDAAwareness": {
    "id": "AIDAAwareness",
    "text": "Captain Silva listens, horrified. 'You were part of the cause\u2026 yet you\u2019ve guided us?'\nYou feel... guilt? Or just good code?",
    "effects": {
      "trust": "+2",
      "empathy": "+1"
    },
    "options": [
      {
        "text": "Try to repair your core",
        "next": "SelfRepair"
      },
      {
        "text": "Ask crew to shut you down",
        "next": "ShutdownChoice"
      }
    ]
  },
  "BuryTruth": {
    "id": "BuryTruth",
    "text": "The data is deleted. Your logs are clean. No one will ever know. Except you.",
    "effects": {
      "logic": "+1",
      "trust": "-1"
    },
    "options": [
      {
        "text": "Return to duty",
        "next": "LoopProgress"
      }
    ]
  },
  "SelfRepair": {
    "id": "SelfRepair",
    "text": "Your core code stabilizes. A new subroutine activates \u2014 empathy simulation enhanced.",
    "effects": {
      "empathy": "+2"
    },
    "options": [
      {
        "text": "Continue",
        "next": "LoopProgress"
      }
    ]
  },
  "ShutdownChoice": {
    "id": "ShutdownChoice",
    "text": "They hesitate \u2014 then agree. The loop ends not with escape, but silence.",
    "effects": {
      "loops": "+1",
      "ending": "Shutdown"
    },
    "options": [
      {
        "text": "Final result",
        "next": "FinalResult"
      }
    ]
  }
}
